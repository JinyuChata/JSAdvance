<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script>
        /**
         * 1. this是什么
         *  - 所有函数内部都有一个变量this
         *  - 它的值是调用函数的当前对象
         *  - 任何函数本质上 最终都是通过一个对象来调用的
         * 2. 如何确定this的值
         *  - test() window
         *  - p.test() p
         *  - new test() 新创建的对象
         *  - p.call(obj) obj
         */
		function Person(color) {
			console.log(this);
			this.color = color;
			this.getColor = function () {
				console.log(this);
				return this.color;
            }

            this.setColor = function (color) {
				console.log(this);
				this.color = color;
            }
        }

        Person('red');  // this 是window

		var p = new Person('yellow');   // this 是p(指向的那个对象)
		p.getColor();   // this -- p
		var obj = {};
		p.setColor.call(obj, 'black');  // this -- obj

		var test = p.setColor;
		test('YellowBlue');
		console.log(window.color);

		function fun1() {
			function fun2() {
				console.log(this);
            }
            fun2();
        }
	</script>
</head>
<body>

</body>
</html>